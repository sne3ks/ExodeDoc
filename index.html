<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Exode - Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;python&quot;,&quot;c++&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="python">Python</a>
              <a href="#" data-language-name="c++">Arduino</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
            <li><a> Contact me lensellenicolas@gmail.com </a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="introduction">Introduction</h1>

<h3 id="well-what-is-it">Well, What is it ?</h3>

<blockquote>
<p>Blink two led asynchronously</p>
</blockquote>
<pre class="highlight python"><code>
<span class="kn">from</span> <span class="nn">Exode</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">uno</span> <span class="o">=</span> <span class="n">Board</span><span class="p">(</span><span class="s">'/dev/tty.HC-06-DevB'</span><span class="p">)</span>

<span class="n">led13</span> <span class="o">=</span> <span class="n">Led</span><span class="p">(</span><span class="mi">13</span><span class="p">)</span>
<span class="n">led14</span> <span class="o">=</span> <span class="n">Led</span><span class="p">(</span><span class="mi">14</span><span class="p">)</span>

<span class="n">uno</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">led13</span><span class="p">)</span>
<span class="n">uno</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">led14</span><span class="p">)</span>

<span class="n">led13</span><span class="o">.</span><span class="n">blink</span><span class="p">(</span><span class="mi">250</span><span class="p">)</span>
<span class="n">led14</span><span class="o">.</span><span class="n">blink</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span>

</code></pre>

<p>Exode is a Python&rsquo;s library for communication between
Arduino microcontroller boards and a connected computer.
Write Python script and take control on your board using a serial IO.</p>

<h3 id="fast-and-intuitive">Fast and Intuitive</h3>

<p>Exode was designed to simplify the development of Arduino projects. The library
takes advantages from the clear and light Python&rsquo;s syntax.</p>

<p>Once your Arduino connected to your device (computer, Rasberry Pi, smartphone ..)
using a serial IO (usb/bluetooth), you&rsquo;re now allowed to have remote interactions
with your board.</p>

<p>You microcontroller become a simple slave, let your computer process the most
complex tasks. You may add artificial intelligence algorithm in your projects&hellip;</p>

<h3 id="powerfull-tools">Powerfull tools</h3>

<p>Many of Arduino components are implemented in Exode, that&rsquo;s way you can directly
manipulate them with Python.</p>

<p>Exode use event-driven programming to manage the interactions between the differents
components plugged on your board, or your computer.</p>

<p>Furthermore, the Exode&rsquo;s kernel is based on an asynchronous processes,
greatly simplifying your project !!</p>

<h3 id="user-interface">User Interface</h3>

<p align="center"><img src="images/showcase.gif" ></p>

<p>Interact with your board easily through UI components :</p>

<ul>
<li>Visualize data</li>
<li>Send data</li>
<li>Event-driven applications</li>
</ul>

          <h1 id="get-started">Get Started</h1>

<p>You&rsquo;re going to need :</p>

<ul>
<li><strong>An Arduino board</strong></li>
<li><strong>Linux or OS X</strong> (Window may work)</li>
<li><strong>Python 3</strong></li>
<li><strong><a href="https://www.arduino.cc/en/Main/Software">Arduino Software</a></strong> (only to install Exode on your board)</li>
</ul>

<h3 id="install-exode-on-your-board">Install Exode on your board</h3>

<p>First of all, you&rsquo;ve to load Exode on your device. That&rsquo;ll be the only time that
you&rsquo;ll have to compile a source code on your board.</p>

<ol>
<li><p>Download <a href="https://github.com/sne3ks/ExodeArduinoCore">ExodeArduinoCore</a> sources or <code class="prettyprint">git clone https://github.com/sne3ks/ExodeArduinoCore.git</code></p></li>
<li><p>Open Arduino Software and <a href="https://www.arduino.cc/en/Guide/Libraries">install ArduinoThread library</a>.</p></li>
<li><p>Open <code class="prettyprint">ExodeArduinoCore\main\main.ino</code> with the Arduino Software, verify and load the code on your board</p></li>
</ol>

<h3 id="install-exode-on-your-computer">Install Exode on your computer</h3>

<ol>
<li>simple <code class="prettyprint">sudo pip3 install Exode</code></li>
</ol>

<p>If pip3 is not installed, go <a href="https://pip.pypa.io/en/latest/installing/">here</a></p>

<h3 id="found-the-path-to-your-arduino">Found the path to your Arduino</h3>
<pre class="highlight shell"><code><span class="gp">user$ </span>python3
<span class="gp">&gt;&gt; </span>from Exode import <span class="k">*</span>
<span class="gp">&gt;&gt; </span>BOARD.search<span class="o">()</span>
<span class="gp">&gt;&gt; </span><span class="o">[</span><span class="s1">'/dev/tty.wchusbserial1420'</span> , <span class="s1">'/dev/tty.HC-06-DevB'</span><span class="o">]</span>
&gt;&gt;
</code></pre>

<p>If you use Osx or Linux, you&rsquo;ve to know that a device connected to your computer
is interpreted like a file for your OS. And it&rsquo;s through this &ldquo;file&rdquo; that Exode communicates
with the Arduino board. You can find this file into this repertory <code class="prettyprint">\dev</code></p>

<p>But you&rsquo;re really lucky today because Exode can find the path of your board like
a good guy, <em>notice that you&rsquo;ve to install Exode on your board before</em>.
<strong>BOARD.search()</strong> return all board connected with Exode installed on.</p>

<h3 id="your-first-script">Your first script</h3>
<pre class="highlight python"><code><span class="c">#1 Import</span>
<span class="kn">from</span> <span class="nn">Exode</span> <span class="kn">import</span> <span class="o">*</span>

<span class="c">#2 Connect</span>
<span class="n">uno</span> <span class="o">=</span> <span class="n">Board</span><span class="p">(</span><span class="s">'/path/to/your/board'</span><span class="p">)</span>

<span class="c">#3 Setup</span>
<span class="n">led</span> <span class="o">=</span> <span class="n">Led</span><span class="p">(</span><span class="mi">13</span><span class="p">)</span>

<span class="c">#4 Do something awesome !!</span>
<span class="n">led</span><span class="o">.</span><span class="n">blink</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span>
</code></pre>

<ul>
<li>Firstly you have to <strong>import Exode</strong> <code class="prettyprint">from Exode import *</code></li>
<li>Then, <strong>connect</strong> your board giving its absolute path <code class="prettyprint">uno= Board(&#39;/path/to/your/board&#39;)</code>`</li>
<li><strong>Setup</strong> your led, shields, servos&hellip; plugged on your Board <code class="prettyprint">led= Led(13)</code></li>
<li>Now you can <strong>manipulate</strong> them ! <code class="prettyprint">led.blink(500)</code></li>
</ul>

          <h1 id="boardobject">BoardObject</h1>

<p><em>parent : AbstractObj</em></p>

<p>Each component connected to your board are represented by an abstract BoardObject.
All Exode&rsquo;s objects have theses utilities :</p>

<ul>
<li>Setup on the board</li>
<li>Event manager</li>
<li>Log system</li>
<li>UI interface</li>
</ul>

<h2 id="setup-on-the-board">Setup on the board</h2>

<h3 id="obj-on-board">obj.on(board)</h3>
<pre class="highlight python"><code><span class="n">board</span><span class="o">-</span><span class="mi">0</span><span class="o">=</span> <span class="n">Board</span><span class="p">(</span><span class="s">'/path/to/your/board-0'</span><span class="p">)</span>

<span class="c">#There's only one board connected,</span>
<span class="c">#obj1'll be setup on board-0</span>
<span class="n">obj1</span><span class="o">=</span><span class="n">Led</span><span class="p">(</span><span class="mi">13</span><span class="p">)</span>
<span class="n">obj1</span><span class="o">.</span><span class="n">board</span>
<span class="o">&gt;&gt;</span> <span class="s">"Board-0"</span>

<span class="n">board</span><span class="o">-</span><span class="mi">1</span><span class="o">=</span> <span class="n">Board</span><span class="p">(</span><span class="s">'/path/to/your/board-1'</span><span class="p">)</span>

<span class="c">#There's two board connected, we've to specify on which board setup</span>
<span class="c">#our obj</span>
<span class="n">obj2</span><span class="o">=</span><span class="n">Led</span><span class="p">(</span><span class="mi">13</span><span class="p">)</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="n">board</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

</code></pre>

<p>Setup obj on the board</p>

<ul>
<li><strong>board</strong> : A board object</li>
</ul>

<p><em>If there&rsquo;s only one board connected, Exode will automatically call obj.on().
Else, if there&rsquo;s more than one board you&rsquo;ve to call obj.on()</em></p>

<h2 id="event-manager">Event manager</h2>
<pre class="highlight python"><code><span class="n">uno</span> <span class="o">=</span> <span class="n">Board</span><span class="p">(</span><span class="s">'/path/to/your/board'</span><span class="p">)</span>

<span class="n">pin</span><span class="o">=</span><span class="n">DigPin</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="s">'OUTPUT'</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">switcheCallback</span><span class="p">():</span>
  <span class="k">print</span><span class="p">(</span><span class="s">"Hey Hey !"</span><span class="p">)</span>

<span class="n">pin</span><span class="o">.</span><span class="n">attachEvent</span><span class="p">(</span><span class="s">"switch"</span><span class="p">,</span><span class="n">switcheCallback</span><span class="p">)</span>
<span class="n">pin</span><span class="o">.</span><span class="n">listen</span><span class="p">()</span>

<span class="o">&gt;&gt;</span><span class="mi">0</span>
<span class="o">&gt;&gt;</span><span class="mi">0</span>
<span class="o">&gt;&gt;</span><span class="mi">1</span> <span class="c">#lvl switched here</span>
<span class="o">&gt;&gt;</span><span class="s">"Hey Hey !"</span>
<span class="o">&gt;&gt;</span><span class="mi">1</span>
<span class="o">&gt;&gt;</span><span class="mi">0</span>
<span class="o">&gt;&gt;</span><span class="s">"Hey Hey !"</span>
<span class="o">...</span>

<span class="n">pin</span><span class="o">.</span><span class="n">detachEvent</span><span class="p">(</span><span class="s">"switch"</span><span class="p">)</span>

<span class="o">&gt;&gt;</span><span class="mi">0</span>
<span class="o">&gt;&gt;</span><span class="mi">1</span>
<span class="o">&gt;&gt;</span><span class="mi">0</span>

</code></pre>

<p>Event manager lets you add/delete callback functions associated with the object&rsquo;s events.
Theses functions will be call when their associated event is dispatched.  </p>

<h3 id="obj-attachevent-event-callback-args">obj.attachEvent(event, callback, *args)</h3>

<p>The callback function with the given args will be executed when the event is dispatched.</p>

<ul>
<li><strong>event</strong> : the event name</li>
<li><strong>callback</strong> : a function</li>
<li><strong>args</strong> : arguments used by the function</li>
</ul>

<h3 id="obj-detachevent-event">obj.detachEvent(event)</h3>

<p>Delete the callback function associated to the event</p>

<ul>
<li><strong>event</strong> : the event name</li>
</ul>

<h2 id="log-system">Log system</h2>
<pre class="highlight python"><code><span class="n">uno</span> <span class="o">=</span> <span class="n">Board</span><span class="p">(</span><span class="s">'/path/to/your/board'</span><span class="p">)</span>

<span class="n">pin</span><span class="o">=</span><span class="n">DigPin</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="s">'OUTPUT'</span><span class="p">)</span>
<span class="n">pin</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s">" hello world !"</span><span class="p">)</span>

<span class="c">#in log file</span>
<span class="o">&gt;&gt;</span> <span class="s">"2016-04-06 19:13:47,408 - Exode.Core - DEBUG -"</span><span class="o">..</span>
<span class="o">&gt;&gt;</span> <span class="o">..</span> <span class="s">" OBJC - Board-0.digPin(13) hello world !"</span>

</code></pre>

<p>Object can write a message in the log file</p>

<h3 id="obj-log-msg">obj.log(msg)</h3>

<p>write a message in the log file</p>

<ul>
<li><strong>msg</strong> : a string</li>
</ul>

<h2 id="ui-interaction">UI interaction</h2>

<p>Board object can interact with UI component</p>

<h3 id="obj-setcolor-color">obj.setColor(color)</h3>

<p>Change the ui object color</p>

<ul>
<li><strong>color</strong> : an array of 4 numbers from 0 to 1 <em>(e.g. [0,1,0.3, 1] [r,g,b, a])</em></li>
</ul>

<h3 id="obj-getvalue-name">obj.getValue(name)</h3>

<p>Return a value</p>

<ul>
<li><strong>name</strong> : the value&rsquo;s name</li>
</ul>

<h3 id="obj-setvalue-value-name">obj.setValue(value, name)</h3>

<p>Update a value</p>

<ul>
<li><strong>value</strong> : a value</li>
<li><strong>name</strong> : the name of the value to change</li>
</ul>

<h3 id="obj-getuixview">obj.getUIXView()</h3>

<p>Return a string representation of the object, styled with markdown</p>

<h1 id="dataobject">DataObject</h1>

<p>Mother class for object generating data. <em>(e.g. analog, E/R)</em></p>

<h3 id="obj-setplot-plot">obj.setPlot(plot)</h3>

<p>set a plot to the obj, data generating will be write on this plot.</p>

          <h1 id="pin">Pin</h1>

<p><em><a href="https://www.arduino.cc/en/Tutorial/DigitalPins">Arduino&rsquo;s official tutorial about pins</a></em></p>

<h2 id="digital">Digital</h2>
<pre class="highlight python"><code>  <span class="n">uno</span> <span class="o">=</span> <span class="n">Board</span><span class="p">(</span><span class="s">'/path/to/your/board'</span><span class="p">)</span>

  <span class="n">pin</span><span class="o">=</span><span class="n">DigPin</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="s">'OUTPUT'</span><span class="p">)</span>
  <span class="n">pin</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">'HIGH'</span><span class="p">)</span>
  <span class="n">pin</span><span class="o">.</span><span class="n">switch</span><span class="p">()</span>

  <span class="n">pin</span><span class="o">.</span><span class="n">periodicSwitch</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span>
  <span class="n">pin</span><span class="o">.</span><span class="n">stopPeriodicSwitch</span><span class="p">()</span>

  <span class="n">pin</span><span class="o">.</span><span class="n">mode</span><span class="p">(</span><span class="s">'INPUT'</span><span class="p">)</span>
  <span class="n">pin</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
  <span class="n">pin</span><span class="o">.</span><span class="n">_lvl</span>
  <span class="o">&gt;&gt;</span> <span class="mi">1</span>

  <span class="n">pin</span><span class="o">.</span><span class="n">listen</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
  <span class="o">&gt;&gt;</span> <span class="mi">1</span>
  <span class="o">&gt;&gt;</span> <span class="mi">1</span>
  <span class="o">&gt;&gt;</span> <span class="mi">0</span>

  <span class="n">pin</span><span class="o">.</span><span class="n">stopListen</span><span class="p">()</span>

  <span class="k">def</span> <span class="nf">switchedEvent</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"Hey Hey !"</span><span class="p">)</span>

  <span class="n">pin</span><span class="o">.</span><span class="n">attachEvent</span><span class="p">(</span><span class="s">"switch"</span><span class="p">,</span><span class="n">switchedEvent</span><span class="p">)</span>
  <span class="n">pin</span><span class="o">.</span><span class="n">listen</span><span class="p">()</span>

  <span class="o">&gt;&gt;</span><span class="mi">0</span>
  <span class="o">&gt;&gt;</span><span class="mi">0</span>
  <span class="o">&gt;&gt;</span><span class="mi">1</span> <span class="c">#lvl switched here</span>
  <span class="o">&gt;&gt;</span><span class="s">"Hey Hey !"</span>
  <span class="o">&gt;&gt;</span><span class="mi">1</span>
  <span class="o">&gt;&gt;</span><span class="mi">0</span>
  <span class="o">&gt;&gt;</span><span class="s">"Hey Hey !"</span>
  <span class="o">...</span>

  <span class="n">pin</span><span class="o">.</span><span class="n">detachEvent</span><span class="p">()</span>

  <span class="o">&gt;&gt;</span><span class="mi">1</span>
  <span class="o">&gt;&gt;</span><span class="mi">0</span>
  <span class="o">&gt;&gt;</span><span class="mi">0</span>
  <span class="o">&gt;&gt;</span><span class="mi">1</span>

  <span class="n">digPinA0</span> <span class="o">=</span> <span class="n">DigPin</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">'OUTPUT'</span><span class="p">,</span> <span class="n">analogic</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
  <span class="n">digPinA0</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">"HIGH"</span><span class="p">)</span>

</code></pre>

<p><em>parent : <a href="#boardobject">BoardObject, DataObject</a></em></p>

<p>A digital pin.</p>

<p><strong>digPin&rsquo;s event</strong> :</p>

<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>switch</strong></td>
<td>The value from the digPin&rsquo;ve changed</td>
</tr>
<tr>
<td><strong>on</strong></td>
<td>The value from the digPin is 1</td>
</tr>
<tr>
<td><strong>off</strong></td>
<td>The value from the digPin is 0</td>
</tr>
</tbody></table>

<h3 id="digpin-pin-mode-analogic-false">DigPin(pin, Mode, analogic=False)</h3>

<p>Setups your pin</p>

<ul>
<li><strong>pinNumber</strong> : the number of the pin whose mode you wish to set</li>
<li><strong>Mode</strong> : the pin&rsquo;s behavior &lsquo;OUTPUT&rsquo; or &#39;INPUT&rsquo;</li>
<li><strong>analogic</strong> : optional parameter, set <em>True</em> if the pin is a physical analog Pin</li>
</ul>

<h3 id="mode-mode">mode(Mode)</h3>

<p>Changes your pin&rsquo;s behavior</p>

<ul>
<li><strong>Mode</strong> : the pin&rsquo;s behavior &#39;OUTPUT&rsquo; or &#39;INPUT&rsquo;</li>
</ul>

<h3 id="write-lvl">write(Lvl)</h3>

<p>Writes a HIGH or a LOW value to a digital pin. <a href="https://www.arduino.cc/en/Reference/DigitalWrite">go here</a> for more
information.</p>

<ul>
<li><strong>Lvl</strong> : &#39;HIGH&rsquo;,1 or &#39;LOW&rsquo;,0</li>
</ul>

<h3 id="analogwrite-value">analogWrite(value)</h3>

<p>Writes an analog value (PWM wave) to the pin. Arduino&rsquo;s documentation
<a href="https://www.arduino.cc/en/Reference/AnalogWrite">here</a></p>

<ul>
<li><strong>value</strong> : an integer between 0 and 255</li>
</ul>

<h3 id="switch">switch()</h3>

<p>Switches the digital pin value &#39;LOW&rsquo; to &#39;HIGH&rsquo; or &#39;HIGH&rsquo; to &#39;LOW&rsquo;</p>

<h3 id="periodicswitch-period">periodicSwitch(period)</h3>

<p>Switches the pin value periodically</p>

<ul>
<li><strong>period</strong> : in ms the interval between each switching, if is not set it&rsquo;ll be 100ms</li>
</ul>

<h3 id="stopperiodicswitch">stopPeriodicSwitch()</h3>

<p>Stop the pin&rsquo;s periodic switch</p>

<h3 id="read">read()</h3>

<p>Reads the value from your pin, then saves the value into <strong>digPin._lvl</strong></p>

<h3 id="listen-period">listen(period)</h3>

<p>Reads the value from your pin periodically</p>

<ul>
<li><strong>period</strong> : in ms the interval between each reading, if is not set it&rsquo;ll be 100ms</li>
</ul>

<h3 id="stoplisten">stopListen()</h3>

<p>Stops the pin&rsquo;s listening</p>

<h2 id="led">Led</h2>
<pre class="highlight python"><code><span class="n">uno</span> <span class="o">=</span> <span class="n">Board</span><span class="p">(</span><span class="s">'/dev/tty.HC-06-DevB'</span><span class="p">)</span>

<span class="n">led13</span> <span class="o">=</span> <span class="n">Led</span><span class="p">(</span><span class="mi">13</span><span class="p">)</span>
<span class="n">led14</span> <span class="o">=</span> <span class="n">Led</span><span class="p">(</span><span class="mi">14</span><span class="p">)</span>

<span class="n">uno</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">led13</span><span class="p">)</span>
<span class="n">uno</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">led14</span><span class="p">)</span>

<span class="n">led13</span><span class="o">.</span><span class="n">blink</span><span class="p">(</span><span class="mi">250</span><span class="p">)</span>
<span class="n">led14</span><span class="o">.</span><span class="n">blink</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span>
</code></pre>

<p><em>parent : <a href="#digital">DigPin</a></em></p>

<p>inherit all methods from digPin</p>

<h3 id="led-pin">Led(pin)</h3>

<p>Setup a Led</p>

<ul>
<li><strong>pin</strong> : the pin number</li>
</ul>

<h3 id="blink-period">blink(period)</h3>

<p>Init a blink on the led</p>

<ul>
<li><strong>period</strong> : the blink period</li>
</ul>

<h3 id="stopblink">stopBlink()</h3>

<p>Stop blink</p>

<h2 id="anapin">AnaPin</h2>
<pre class="highlight python"><code><span class="n">board</span><span class="o">=</span><span class="n">Board</span><span class="p">(</span><span class="s">'/path/to/your/board'</span><span class="p">)</span>

<span class="n">analog</span><span class="o">=</span> <span class="n">AnaPin</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="s">'INPUT'</span><span class="p">)</span>

<span class="n">analog</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">analog</span><span class="o">.</span><span class="n">value</span>
<span class="o">&gt;&gt;</span> <span class="mi">455</span>

<span class="k">def</span> <span class="nf">printValue</span><span class="p">(</span><span class="n">pin</span><span class="p">):</span>
  <span class="k">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">pin</span><span class="o">.</span><span class="n">_pin</span><span class="p">)</span><span class="o">+</span><span class="s">": "</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">pin</span><span class="o">.</span><span class="n">value</span><span class="p">))</span>

<span class="n">analog</span><span class="o">.</span><span class="n">attachEvent</span><span class="p">(</span><span class="s">"update"</span><span class="p">,</span><span class="n">printValue</span><span class="p">,</span><span class="n">analog</span><span class="p">)</span>
<span class="n">analog</span><span class="o">.</span><span class="n">listen</span><span class="p">()</span>

<span class="o">&gt;&gt;</span> <span class="s">"5: 455"</span>
<span class="o">&gt;&gt;</span> <span class="s">"5: 430"</span>
<span class="o">&gt;&gt;</span> <span class="s">"5: 432"</span>
<span class="o">&gt;&gt;</span> <span class="s">"5: 100"</span>
<span class="o">...</span>

</code></pre>

<p><em>parent : <a href="#boardobject">BoardObject, DataObject</a></em></p>

<p><a href="https://www.arduino.cc/en/Tutorial/AnalogInputPins">An analog pin</a>.</p>

<p><strong>AnaPin&rsquo;s event</strong> :</p>

<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>update</strong></td>
<td>anaPin have read a new value</td>
</tr>
</tbody></table>

<h3 id="anapin-pin-mode">anaPin(pin, mode)</h3>

<p>Setup the analog pin.</p>

<ul>
<li><strong>pin</strong> : the analog pin number</li>
<li><strong>mode</strong> : the pin&rsquo;s behaviour &#39;OUTPUT&rsquo; or &#39;INPUT&rsquo;</li>
</ul>

<h3 id="mode-mode">mode(mode)</h3>

<p>Changes your pin&rsquo;s behavior</p>

<ul>
<li><strong>mode</strong> : the pin&rsquo;s behavior &#39;OUTPUT&rsquo; or &#39;INPUT&rsquo;</li>
</ul>

<h3 id="read">read()</h3>

<p>Reads the value from the pin, then saves the value into <strong>anaPin.value</strong>.
more informations <a href="https://www.arduino.cc/en/Reference/RobotAnalogRead">here</a></p>

<h3 id="listen-period">listen(period)</h3>

<p>Reads the value from your pin periodically</p>

<ul>
<li><strong>period</strong> : in ms the interval between each reading, if is not set it&rsquo;ll be 100ms</li>
</ul>

<h3 id="stoplisten">stopListen()</h3>

<p>Stops the pin&rsquo;s listening</p>

<h2 id="ppmpin">ppmPin</h2>
<pre class="highlight python"><code><span class="n">board</span><span class="o">=</span><span class="n">Board</span><span class="p">(</span><span class="s">'/path/to/your/board'</span><span class="p">)</span>

<span class="n">ppm</span><span class="o">=</span> <span class="n">ppmPin</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
<span class="n">ppm</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1500</span><span class="p">)</span>

<span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">ppm</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</code></pre>

<p><em>parent : <a href="#boardObject">BoardObject</a></em></p>

<p>more informations about <strong>ppm signal</strong> <a href="http://skymixer.net/electronics/84-rc-receivers/78-rc-ppm-signal">here</a></p>

<h3 id="ppmpin-pin-us-1500">ppmPin(pin, us=1500)</h3>

<p>Setup a ppm signal on the Pin</p>

<ul>
<li><strong>pin</strong> : the pin number</li>
<li><strong>us</strong> : the value (us), if not set the default value&rsquo;ll be 1500</li>
</ul>

<h3 id="write-us">write(us)</h3>

<p>Change the ppm value</p>

<ul>
<li><strong>us</strong> : the value (us)</li>
</ul>

<h3 id="stop">stop()</h3>

<p>Stop the ppm signal on the pin</p>

          <h1 id="sensor">Sensor</h1>

<h2 id="ultrasonic-sensor-hcsr04">Ultrasonic sensor HCSR04</h2>

<p><em>parent: <a href="#boardobject">BoardObject</a>, <a href="#dataobject">DataObject</a></em></p>
<pre class="highlight python"><code><span class="n">board</span><span class="o">=</span><span class="n">Board</span><span class="p">(</span><span class="s">'/path/to/your/board'</span><span class="p">)</span>

<span class="n">sensor</span><span class="o">=</span> <span class="n">HCSR04</span><span class="p">(</span><span class="n">echo</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">trig</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">printValue</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">cm</span><span class="o">+</span><span class="s">" cm"</span><span class="p">)</span>

<span class="n">sensor</span><span class="o">.</span><span class="n">attachEvent</span><span class="p">(</span><span class="s">'update'</span><span class="p">,</span> <span class="n">printValue</span><span class="p">,</span> <span class="n">sensor</span><span class="p">)</span>
<span class="n">sensor</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="o">&gt;&gt;</span> <span class="mf">23.0</span> <span class="n">cm</span>

<span class="n">sensor</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="o">&gt;&gt;</span> <span class="mf">20.5</span> <span class="n">cm</span>
<span class="o">&gt;&gt;</span> <span class="mf">20.9</span> <span class="n">cm</span>
<span class="o">&gt;&gt;</span> <span class="mf">34.5</span> <span class="n">cm</span>
<span class="o">...</span>
<span class="n">sensor</span><span class="o">.</span><span class="n">stopRead</span><span class="p">()</span>

</code></pre>

<p align="center"><img src="https://brainy-bits.com/wp-content/uploads/2014/12/schematic-HCSR04.png" ></p>

<p><a href="https://docs.google.com/document/d/1Y-yZnNhMYy7rwhAgyL_pfa39RsB-x2qR4vP8saG73rE/edit">HCSR04 datasheet</a></p>

<p><strong>HCSR04&rsquo;s event</strong> :</p>

<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>update</strong></td>
<td>the sensor&rsquo;ve read a new value</td>
</tr>
</tbody></table>

<h3 id="hcsr04-echo-trig">HCSR04(echo, trig)</h3>

<p>Init a HCR04 sensor.</p>

<ul>
<li><strong>echo</strong> : the Echo&rsquo;s pin number</li>
<li><strong>trig</strong> : the Trig&rsquo;s pin number</li>
</ul>

<h3 id="read-period">read(period)</h3>

<p>Read the distance of the nearest object by bouncing sound waves off of it</p>

<ul>
<li><strong>period</strong> : the period between each reading, if is not set (or equal to 0), the HCSR04&rsquo;ll read only one time.</li>
</ul>

<h3 id="stopread">stopRead()</h3>

<p>Stop the reading from the HCSR04</p>

<h3 id="hcr04-cm">HCR04.cm</h3>

<p>The distance of the nearest object (cm) (updated during the last reading)</p>

<p><em>cm= round(duration/58.2, 2) calculate with the speed of sound</em></p>

<h3 id="hcr04-duration">HCR04.duration</h3>

<p>Width (ms) of the last Echo pulse</p>

<p><em>read the datasheet for more information</em>*</p>

          <h1 id="motor">Motor</h1>

<h2 id="servo-motor">Servo motor</h2>
<pre class="highlight python"><code><span class="n">board</span><span class="o">=</span> <span class="n">Board</span><span class="p">(</span><span class="s">'/path/to/your/board-0'</span><span class="p">)</span>

<span class="n">servo</span><span class="o">=</span> <span class="n">Servo</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="n">servo</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="n">servo</span><span class="o">.</span><span class="n">writeUs</span><span class="p">(</span><span class="mi">1900</span><span class="p">)</span>
<span class="n">servo</span><span class="o">.</span><span class="n">detach</span><span class="p">()</span>

<span class="n">dangerousServo</span><span class="o">=</span> <span class="n">Servo</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="n">dangerousServo</span><span class="o">.</span><span class="n">secure</span><span class="p">(</span><span class="n">minAngle</span><span class="o">=</span><span class="mi">75</span><span class="p">,</span> <span class="n">maxAngle</span><span class="o">=</span><span class="mi">105</span><span class="p">)</span>
<span class="n">dangerousServo</span><span class="o">.</span><span class="n">calibrate</span><span class="p">(</span><span class="n">zeroUs</span><span class="o">=</span><span class="mi">1500</span><span class="p">,</span> <span class="n">angleToUs</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>
<span class="n">dangerousServo</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>

</code></pre>

<p><p align="center"><img src="images/servo.png"><p></p>

<p><em>parent : <a href="#ppmpin">ppmPin</a></em></p>

<h3 id="servo-pin-angle-90-minangle-0-maxangle-180-zerous-1000-angletous-5-5555">Servo(pin, angle=90, minAngle=0, maxAngle=180, zeroUs=1000, angleToUs=5.5555)</h3>

<p>Setup a servo</p>

<ul>
<li><strong>pin</strong> : the Servo&rsquo;s pin</li>
<li><strong>angle</strong> : servo&rsquo;s angle, default is 90</li>
<li><strong>min/max Angle</strong> : min/max Angle for your servo, defaults are 0 and 180</li>
<li><strong>zeroUs</strong> : the value in us of the angle 0° of your servo , default is 1000</li>
<li><strong>angleToUs</strong> : the value in us of 1° angle</li>
</ul>

<h3 id="secure-minangle-0-maxangle-90">secure(minAngle=0, maxAngle=90)</h3>

<p>Secure your servo setting the min/max value</p>

<ul>
<li><strong>min/max Angle</strong> : min/max Angle for your servo, defaults are 0 and 180</li>
</ul>

<h3 id="calibrate-zerous-1000-angletous-5-555">calibrate(zeroUs=1000, angleToUs=5.555)</h3>

<p>Calibrate your servo</p>

<ul>
<li><strong>zeroUs</strong> : the value in us of the angle 0° of your servo , default is 1000</li>
<li><strong>angleToUs</strong> : the value in us of 1° angle</li>
</ul>

<h3 id="detach">detach()</h3>

<p>Detach your servo from its pin (stop the ppm)</p>

<h3 id="write-angle">write(angle)</h3>

<p>Write an angle on your servo</p>

<ul>
<li><strong>angle</strong> : servo&rsquo;s angle</li>
</ul>

<h3 id="writeus-us">writeUs(us)</h3>

<p>Change the ppm signal value on the pin</p>

<ul>
<li><strong>us</strong> : the value (us) of the ppm signal</li>
</ul>

<h2 id="l298n-motor">L298N Motor</h2>
<pre class="highlight python"><code><span class="n">board</span><span class="o">=</span> <span class="n">Board</span><span class="p">(</span><span class="s">'/path/to/your/board-0'</span><span class="p">)</span>

<span class="n">motor</span><span class="o">=</span><span class="n">L298N_MOTOR</span><span class="p">(</span><span class="n">DC</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">IN1</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">IN2</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
<span class="n">motor</span><span class="o">.</span><span class="n">runForward</span><span class="p">()</span> <span class="c"># Motor run forward power 50%</span>

<span class="n">motor</span><span class="o">.</span><span class="n">setSpeed</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="c"># Motor run forward power 100%</span>
<span class="n">motor</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span> <span class="c"># Motor stop</span>

<span class="n">motor</span><span class="o">.</span><span class="n">setSpeed</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="c"># Set the power to 10%</span>
<span class="n">motor</span><span class="o">.</span><span class="n">setDirection</span><span class="p">(</span><span class="s">'backward'</span><span class="p">)</span> <span class="c"># Set the direction on backward</span>
<span class="n">motor</span><span class="o">.</span><span class="n">run</span><span class="p">()</span> <span class="c"># Motor run backward power 10%</span>


</code></pre>

<p><p align="center"><img src="http://www.electromonde.com/image/data/composants2/schema%20ciruit%20lm298.png" ><p></p>

<h3 id="l298n_motor-dc-in1-in2-speed-50">L298N_MOTOR(DC, IN1, IN2, speed=50)</h3>

<p>*parent : <a href="#boardobject">BoardObject</a></p>

<p>Setup a motor on the L298N</p>

<ul>
<li><strong>DC</strong> : DC pin number</li>
<li><strong>IN1</strong> : IN1 pin number</li>
<li><strong>IN2</strong> : IN2 pin number</li>
<li><strong>speed</strong> : the motor&rsquo;s percentage of power (by default it&rsquo;s 50%)</li>
</ul>

<h3 id="setspeed-value">setSpeed(value)</h3>

<p>Change the motor&rsquo;s speed</p>

<ul>
<li><strong>speed</strong> : the motor&rsquo;s percentage of power (by default it&rsquo;s 50%)</li>
</ul>

<h3 id="setdirection-value">setDirection(value)</h3>

<p>Change the motor direction</p>

<ul>
<li><strong>value</strong> : &lsquo;forward&rsquo;/1 or &#39;backward&rsquo;/-1</li>
</ul>

<h3 id="switch">switch()</h3>

<p>Switch the motor direction</p>

<h3 id="runforward">runForward()</h3>

<p>Run forward the motor</p>

<h3 id="runbackward">runBackward()</h3>

<p>Run backward the motor</p>

<h3 id="run">run()</h3>

<p>Run the motor with the last direction given</p>

<h3 id="stop">stop()</h3>

<p>Stop the motor</p>

          
          <h1 id="ui-component">UI Component</h1>

<p>Exode&rsquo;s User Interface use the <a href="https://kivy.org">Kivy</a> library.</p>

<h2 id="the-app-philosophy">The APP Philosophy</h2>

<p align="center"><img src="images/APP.png" ></p>

<p>The APP is composed of two major components the <strong>STACK</strong> (top) and the <strong>DEBUGGER</strong> (bottom).</p>

<h3 id="stack">STACK</h3>

<p>As you plug component on your Arduino Board, in the same way plug UI component
on the APP.STACK. easy, it isn&rsquo;t ?</p>

<h3 id="debugger">DEBUGGER</h3>

<p>You Keep control on your code with this tool :</p>

<ul>
<li>View in real time log messages from your script. (Furthermore with you can filter the different log messages level)</li>
<li>Write and execute little python command</li>
</ul>

<h3 id="easy-fast-and-intuitive">Easy, Fast and Intuitive</h3>

<blockquote>
<p>main.py</p>
</blockquote>
<pre class="highlight python"><code><span class="c">#1 Import</span>
<span class="kn">from</span> <span class="nn">Exode</span>     <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">Exode.UI</span>  <span class="kn">import</span> <span class="o">*</span>

<span class="c">#2 Compile</span>
<span class="n">APP</span><span class="o">.</span><span class="nb">compile</span><span class="p">(</span><span class="s">'ui_examples/viewerBox.py'</span><span class="p">,</span> <span class="s">'&lt;file&gt;'</span><span class="p">)</span>

<span class="c">#3 Run</span>
<span class="n">APP</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

</code></pre>

<blockquote>
<p>ui_examples/viewerBox.py</p>
</blockquote>
<pre class="highlight python"><code><span class="c"># Hardware object</span>
<span class="n">uno</span><span class="o">=</span> <span class="n">Board</span><span class="p">(</span><span class="s">'/dev/cu.wchusbserial1420'</span><span class="p">)</span>
<span class="n">servo</span><span class="o">=</span> <span class="n">Servo</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">"servo13"</span><span class="p">)</span>

<span class="c"># Ui components</span>
<span class="n">servoViewer</span><span class="o">=</span> <span class="n">ExdViewerBox</span><span class="p">(</span><span class="n">target</span><span class="o">=</span> <span class="n">servo</span><span class="p">)</span>
<span class="n">APP</span><span class="o">.</span><span class="n">STACK</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="n">servoViewer</span><span class="p">)</span>
</code></pre>

<p>We want Exode to be simple to use, maybe you never really code User Interface with
python in the past, don&rsquo;t matter !</p>

<p>Look at the source code to build the window showed above, in few steps the APP is ready to use :</p>

<ul>
<li>import Exode UI components</li>
<li>Compile a python script inside the APP, that way you will still be able to interact with your variables inside the DEBUGGER</li>
<li>Launch the APP</li>
</ul>

<h2 id="exdcontrolerbox">ExdControlerBox</h2>

<p>A Controler Box is a UI component to interact with an AbstractObject a <a href="#boardobject">BoardObject</a>, or a callback function.</p>

<p><strong>ExdControlerBox(target, valueName=None, size=&ldquo;md&rdquo;)</strong></p>

<p>The constructor</p>

<ul>
<li><strong>target</strong>: could de be a callback function, an AbstractObject or a BoardObject</li>
<li><strong>valueName</strong>: the name of the target value</li>
<li><strong>size</strong>: the component&rsquo;s size inside the STACK, could be sm/md/lg/xl or a tuple (x,y) representing the size hint.</li>
</ul>

<h2 id="exdviewerbox">ExdViewerBox</h2>
<pre class="highlight python"><code><span class="n">uno</span><span class="o">=</span> <span class="n">Board</span><span class="p">(</span><span class="s">'/dev/cu.wchusbserial1420'</span><span class="p">)</span>

<span class="c">## Init a boardobject and change its main color</span>
<span class="n">servo</span><span class="o">=</span> <span class="n">Servo</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">"servo13"</span><span class="p">)</span>
<span class="n">servo</span><span class="o">.</span><span class="n">setColor</span><span class="p">([</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">,</span> <span class="mf">0.85</span><span class="p">])</span>

<span class="c">## Init a xl viewer</span>
<span class="n">servoViewer</span><span class="o">=</span> <span class="n">ExdViewerBox</span><span class="p">(</span><span class="n">target</span><span class="o">=</span> <span class="n">servo</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="s">"xl"</span><span class="p">)</span>
<span class="n">APP</span><span class="o">.</span><span class="n">STACK</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="n">servoViewer</span><span class="p">)</span>

</code></pre>

<p align="center"><img src="images/viewerBox.png" ></p>

<p>Show informations about an object. Theses informations come from obj.getUIXView()</p>

<h2 id="exdtextinputbox">ExdTextInputBox</h2>
<pre class="highlight python"><code><span class="n">uno</span><span class="o">=</span> <span class="n">Board</span><span class="p">(</span><span class="s">'/dev/cu.wchusbserial1420'</span><span class="p">)</span>

<span class="n">led</span><span class="o">=</span> <span class="n">Led</span><span class="p">(</span><span class="mi">13</span><span class="p">)</span>
<span class="n">led</span><span class="o">.</span><span class="n">setColor</span><span class="p">([</span><span class="mf">0.84</span><span class="p">,</span> <span class="mf">0.34</span><span class="p">,</span> <span class="mf">0.67</span><span class="p">])</span>

<span class="n">ledController</span><span class="o">=</span> <span class="n">ExdTextInputBox</span><span class="p">(</span><span class="n">target</span><span class="o">=</span> <span class="n">led</span><span class="p">,</span> <span class="n">valueName</span><span class="o">=</span><span class="s">"period"</span><span class="p">,</span>
                               <span class="n">size</span><span class="o">=</span><span class="s">"sm"</span><span class="p">)</span>
<span class="n">APP</span><span class="o">.</span><span class="n">STACK</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="n">ledController</span><span class="p">)</span>
</code></pre>

<p align="center"><img src="images/inputBox.png" ></p>

<p>Update in real time a value of an object. For example here, when you change the value
inside the textarea, the led blink&rsquo;s period will be update.</p>

<h2 id="exdsliderbox">ExdSliderBox</h2>
<pre class="highlight python"><code><span class="n">uno</span><span class="o">=</span> <span class="n">Board</span><span class="p">(</span><span class="s">'/dev/cu.wchusbserial1420'</span><span class="p">)</span>

<span class="n">led</span><span class="o">=</span> <span class="n">Led</span><span class="p">(</span><span class="mi">13</span><span class="p">)</span>
<span class="n">ledController</span><span class="o">=</span> <span class="n">ExdSliderBox</span><span class="p">(</span><span class="n">minv</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">maxv</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
                            <span class="n">target</span><span class="o">=</span> <span class="n">led</span><span class="p">,</span> <span class="n">valueName</span><span class="o">=</span><span class="s">"period"</span><span class="p">)</span>

<span class="n">APP</span><span class="o">.</span><span class="n">STACK</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="n">ledController</span><span class="p">)</span>

</code></pre>

<p align="center"><img src="images/sliderBox.png" ></p>

<p>Update in real time a value of an object through the Slider.</p>

<p><strong>ExdControlerBox(minv, maxv, target, size=&ldquo;sm&rdquo;, valueName=None, isfloat=False)</strong></p>

<ul>
<li><strong>minv</strong> : min value for the slider</li>
<li><strong>maxv</strong> : max value for the slider</li>
<li><strong>isfloat</strong> : Boolean, false if you want integer value, true else.</li>
</ul>

<h2 id="exdradiobox-and-exdswitchbox">ExdRadioBox and ExdSwitchBox</h2>
<pre class="highlight python"><code><span class="n">uno</span><span class="o">=</span> <span class="n">Board</span><span class="p">(</span><span class="s">'/dev/cu.wchusbserial1420'</span><span class="p">)</span>

<span class="n">led</span><span class="o">=</span> <span class="n">Led</span><span class="p">(</span><span class="mi">13</span><span class="p">)</span>

<span class="n">switchBox</span><span class="o">=</span> <span class="n">ExdSwitchBox</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">led</span><span class="p">,</span> <span class="n">valueName</span><span class="o">=</span><span class="s">"lvl"</span><span class="p">)</span>
<span class="n">radioBox</span> <span class="o">=</span> <span class="n">ExdRadioBox</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">led</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s">"Led13"</span><span class="p">,</span> <span class="n">valueName</span><span class="o">=</span><span class="s">"lvl"</span><span class="p">)</span>

<span class="n">APP</span><span class="o">.</span><span class="n">STACK</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="n">switchBox</span><span class="p">)</span>
<span class="n">APP</span><span class="o">.</span><span class="n">STACK</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="n">radioBox</span><span class="p">)</span>


</code></pre>

<p align="center"><img src="images/binaryBox.gif" ></p>

<p>Simple binary controller.</p>

<p><strong>ExdRadioBox(target, title, valueName=None)</strong></p>

<ul>
<li><strong>title</strong> : the radio title</li>
</ul>

          <h1 id="advanced-usage">Advanced usage</h1>

<h2 id="how-it-works">How it works ?</h2>

<h3 id="how-exode-send-instructions">How Exode send instructions ?</h3>

<p>Exode sends byte arrays to the Arduino Board. Each array represents <strong>an instruction</strong>.
Byte arrays are constructed on this pattern</p>

<table><thead>
<tr>
<th>Byte position</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>0</strong></td>
<td>The instruction&rsquo;s length</td>
</tr>
<tr>
<td><strong>1</strong></td>
<td>The instruction&rsquo;s id</td>
</tr>
<tr>
<td><strong>2 .. n</strong></td>
<td>The instruction&rsquo;s operands</td>
</tr>
</tbody></table>

<p>When the board receives a byte array, the board will decode and execute it.</p>

<p>For example, here the byte array to write a &lsquo;HIGH&rsquo; level on the pin 13</p>

<table><thead>
<tr>
<th>Byte position</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td><strong>\x03</strong></td>
<td>The instruction&rsquo;s length</td>
</tr>
<tr>
<td>1</td>
<td><strong>\x01</strong></td>
<td>The instruction&rsquo;s id</td>
</tr>
<tr>
<td>2</td>
<td><strong>&rsquo;\r&rsquo;</strong></td>
<td>pin 13</td>
</tr>
<tr>
<td>3</td>
<td><strong>&rsquo;\x01&rsquo;</strong></td>
<td>&#39;HIGH&rsquo; <em>(or 1)</em></td>
</tr>
</tbody></table>

<h3 id="how-exode-receive-values">How Exode receive values ?</h3>

<aside class="warning">
  For the moment, exodeArduinoCore can only send unsigned int coded on 4 bytes with a little endian
</aside>

<p>Some instructions wait from the board an answer, for example, digPin.read().
Exode works on an asynchronous process, that&rsquo;s why the answers don&rsquo;t come in the same
order than their request. To identify the request who is associated the incoming
answer, Exode uses a <strong>key system</strong>.</p>

<p>For example, here the byte array to read the pin 13 level</p>

<table><thead>
<tr>
<th>Byte position</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td><strong>\x03</strong></td>
<td>The instruction&rsquo;s length</td>
</tr>
<tr>
<td>1</td>
<td><strong>\x02</strong></td>
<td>The instruction&rsquo;s id</td>
</tr>
<tr>
<td>2</td>
<td><strong>&rsquo;\r&rsquo;</strong></td>
<td>pin 13</td>
</tr>
<tr>
<td>3</td>
<td><strong>&rsquo;\x07&rsquo;</strong></td>
<td>the key (here 7)</td>
</tr>
</tbody></table>

<p>Board will answer</p>

<table><thead>
<tr>
<th>Byte position</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td><strong>\x07</strong></td>
<td>The instruction&rsquo;s key</td>
</tr>
<tr>
<td>1</td>
<td><strong>\x01</strong></td>
<td>the answer</td>
</tr>
<tr>
<td>2</td>
<td><strong>\x00</strong></td>
<td></td>
</tr>
<tr>
<td>3</td>
<td><strong>\x00</strong></td>
<td></td>
</tr>
<tr>
<td>4</td>
<td><strong>\x00</strong></td>
<td></td>
</tr>
</tbody></table>

<h2 id="board-39-s-instructions">Board&rsquo;s instructions</h2>
<pre class="highlight python"><code>  <span class="n">uno</span> <span class="o">=</span> <span class="n">Board</span><span class="p">(</span><span class="s">'/path/to/your/board'</span><span class="p">)</span>

  <span class="c">#Example to turn-on a led using instructions</span>
  <span class="n">uno</span><span class="o">.</span><span class="n">pinMode</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="s">"OUTPUT"</span><span class="p">)</span>
  <span class="n">uno</span><span class="o">.</span><span class="n">digitalWrite</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="s">"HIGH"</span><span class="p">)</span>

</code></pre>

<p>Here the full list of board&rsquo;s instructions</p>

<table><thead>
<tr>
<th>ID</th>
<th>Name</th>
<th>Description</th>
<th>Operands</th>
<th>Answer</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td><strong>pinMode(pin, mode, analogic=False)</strong></td>
<td>setup a pin</td>
<td><strong>pin</strong>: pinNumber <br> <strong>mode</strong>: 1 or 0 (OUTPUT or INPUT) <br> <strong>analogic</strong>: if it&rsquo;s an analogic pin</td>
<td></td>
</tr>
<tr>
<td>1</td>
<td><strong>digitalWrite(pin, lvl)</strong></td>
<td>write a digital Value on a pin</td>
<td><strong>pin</strong>: pinNumber <br> <strong>lvl</strong>: 1 or 0 (HIGH or LOW)</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td><strong>digitalRead(pin, key)</strong></td>
<td>read a pin lvl</td>
<td><strong>pin</strong>: pinNumber <br> <strong>key</strong>: request&rsquo;s key</td>
<td><em>the pin lvl</em></td>
</tr>
<tr>
<td>3</td>
<td><strong>digitalSwitch(pin)</strong></td>
<td>switch a pin lvl</td>
<td><strong>pin</strong>: pinNumber</td>
<td></td>
</tr>
<tr>
<td>4</td>
<td><strong>analogWrite(pin, value)</strong></td>
<td>write an analog value</td>
<td><strong>pin</strong>: pinNumber <br> <strong>value</strong> : [0, 255]</td>
<td></td>
</tr>
<tr>
<td>5</td>
<td><strong>analogRead(pin, key)</strong></td>
<td>read the value on an analog pin</td>
<td><strong>pin</strong>: Analogic pin number <br> <strong>key</strong>:  request&rsquo;s key</td>
<td><em>the pin value</em></td>
</tr>
<tr>
<td>6</td>
<td><strong>addPPM(pin, us, key)</strong></td>
<td>init a PPM signal</td>
<td><strong>pin</strong>: pin Number <br> <strong>us</strong> : signal value (us) <br> <strong>key</strong> : request&rsquo;s key</td>
<td><em>the signal id</em></td>
</tr>
<tr>
<td>7</td>
<td><strong>removePPM(id)</strong></td>
<td>stop a PPM signal</td>
<td><strong>id</strong>: the signal id</td>
<td></td>
</tr>
<tr>
<td>8</td>
<td><strong>writePPM(id, us)</strong></td>
<td>new PPM value</td>
<td><strong>id</strong> : the signal id <br> <strong>us</strong> : signal value (us)</td>
<td></td>
</tr>
<tr>
<td>9</td>
<td><strong>pulse(pin ,us)</strong></td>
<td>send a pulse on a pin</td>
<td><strong>pin</strong> : pin Number <br> <strong>us</strong> : pulse length (us)</td>
<td></td>
</tr>
<tr>
<td>10</td>
<td><strong>pulseIn</strong></td>
<td>read a pulseIn on a pin</td>
<td><strong>pin</strong> : pin Number <br> <strong>key</strong> : request&rsquo;s key</td>
<td><em>the pulse length</em></td>
</tr>
<tr>
<td>14</td>
<td><strong>reset</strong></td>
<td>reset the board</td>
<td></td>
<td></td>
</tr>
<tr>
<td>15</td>
<td><strong>checkExode</strong></td>
<td>check if exode is installed on the board</td>
<td></td>
<td><em>404 with the request&rsquo;s key 202</em></td>
</tr>
</tbody></table>

<h2 id="listener">Listener</h2>

<blockquote>
<p>Here a code to read a digital input</p>
</blockquote>
<pre class="highlight python"><code><span class="n">uno</span> <span class="o">=</span> <span class="n">Board</span><span class="p">(</span><span class="s">'/path/to/your/board'</span><span class="p">)</span>

<span class="c"># We setup the pin13</span>
<span class="n">uno</span><span class="o">.</span><span class="n">pinMode</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="s">"INPUT"</span><span class="p">)</span>

<span class="c"># Define a callback function</span>
<span class="k">def</span> <span class="nf">printLvl</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
  <span class="k">print</span><span class="p">(</span><span class="s">"the value on the pin is : "</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>

<span class="c"># Get a key</span>
<span class="n">requestKey</span><span class="o">=</span> <span class="n">uno</span><span class="o">.</span><span class="n">getKey</span><span class="p">()</span>

<span class="c"># Init the listener and read the pin</span>
<span class="n">uno</span><span class="o">.</span><span class="n">addListener</span><span class="p">(</span><span class="n">updateFunction</span><span class="o">=</span><span class="n">printLvl</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">requestKey</span><span class="p">)</span>
<span class="n">uno</span><span class="o">.</span><span class="n">digitalRead</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="n">requestKey</span><span class="p">)</span>

<span class="o">&gt;&gt;</span> <span class="s">"the value on the pin is : 0"</span>

</code></pre>

<p>To receive date from the board, Exode uses Listener. A Listener listens to the incoming data, when a value comes
with the excepted key, the listener will call a callback function with the incoming value as argument.</p>

<h3 id="board-addlistener-updatefunction-key-isinfinite-false">Board.addListener(updateFunction, key, isInfinite=False)</h3>

<p>To init a Listener on the board</p>

<ul>
<li><strong>updateFunction</strong> : the callback function, call when board receive the excepted value</li>
<li><strong>key</strong> : the request&rsquo;s key</li>
<li><strong>isInfinite</strong> : indicate if we listen the board indefinitely or only once</li>
</ul>

<h3 id="board-getkey-self-excpt">Board.getKey(self, excpt=[])</h3>

<p>Return a available key</p>

<ul>
<li><strong>excpt</strong> : optional, a list of value to be excluded</li>
</ul>

<h2 id="boardthread">boardThread</h2>

<blockquote>
<p>Example of boardThread to read a value with the HCSR04 sensor</p>
</blockquote>
<pre class="highlight python"><code>
<span class="n">uno</span> <span class="o">=</span> <span class="n">Board</span><span class="p">(</span><span class="s">'/path/to/your/board'</span><span class="p">)</span>

<span class="c"># Setup trig(2) and echo(3) pin</span>
<span class="n">uno</span><span class="o">.</span><span class="n">pinMode</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s">'OUTPUT'</span><span class="p">)</span>
<span class="n">uno</span><span class="o">.</span><span class="n">pinMode</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s">'INPUT'</span><span class="p">)</span>

<span class="c"># requestKey</span>
<span class="n">readKey</span><span class="o">=</span> <span class="n">uno</span><span class="o">.</span><span class="n">getKey</span><span class="p">()</span>

<span class="c"># Init a thread</span>
<span class="n">readThread</span><span class="o">=</span> <span class="n">uno</span><span class="o">.</span><span class="n">newThread</span><span class="p">()</span>
<span class="n">readThread</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">"pulse"</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">readThread</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">"pulseIn"</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">readKey</span><span class="p">)</span>

<span class="c"># Prepare the listener</span>
<span class="k">def</span> <span class="nf">printValue</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
  <span class="k">print</span><span class="p">(</span><span class="s">"duration : "</span><span class="o">+</span><span class="n">value</span><span class="p">)</span>

<span class="n">board</span><span class="o">.</span><span class="n">addListener</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">readKey</span><span class="p">,</span> <span class="n">updateFunction</span><span class="o">=</span><span class="n">printValue</span><span class="p">,</span> <span class="n">isInfinite</span><span class="o">=</span> <span class="bp">True</span><span class="p">)</span>

<span class="c"># Launch the thread every 1s</span>
<span class="n">readThread</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>

<span class="o">&gt;&gt;</span> <span class="n">duration</span> <span class="p">:</span> <span class="mi">1455</span>
<span class="o">&gt;&gt;</span> <span class="n">duration</span> <span class="p">:</span> <span class="mi">3455</span>
<span class="o">&gt;&gt;</span> <span class="n">duration</span> <span class="p">:</span> <span class="mi">3234</span>
<span class="o">...</span>

<span class="n">readThread</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</code></pre>

<p>Some instructions have to be call consecutively or to be repeated at regular intervals.
A BoardThread is a block of instructions load on the board, that will be executed consecutively
and/or at regular intervals</p>

<h3 id="board-newthread">Board.newThread()</h3>

<p>Init a new thread on the board</p>

<h3 id="boardthread-add-name-args">boardThread.add(name, *args)</h3>

<p>Add an instruction to the boardThread</p>

<ul>
<li><strong>name</strong> : the instruction&rsquo;s name</li>
<li><strong>args</strong> : the instruction&rsquo;s arguments</li>
</ul>

<h3 id="boardthread-start-period-0">boardThread.start(period=0)</h3>

<p>Start the thread</p>

<ul>
<li><strong>period</strong> : the time period (ms) between each thread executions, if is not set or equal to 0 the thread will be
execute only once.</li>
</ul>

<h3 id="boardthread-stop">boardThread.stop()</h3>

<p>Stop the thread</p>

          <h1 id="how-to-contribute">How to contribute ?</h1>

<p>We want you ! Exode still a young project, and it&rsquo;s always perfectible and which we constantly hope to perfect.</p>

<h2 id="report-a-bug-or-request-a-feature">Report a Bug or Request a Feature</h2>

<ul>
<li>If you want to report a bug, ask for help, or have any questions please use this
link : <a href="https://github.com/sne3ks/Exode/issues">https://github.com/sne3ks/Exode/issues</a></li>
</ul>

<h2 id="contribute-to-the-code">Contribute to the code</h2>

<p>The easier way to contribute is to write new abstract object class to implement
new components. You&rsquo;re of course free to improve the core, or add new features.</p>

<p><strong>To contribute, simply :</strong></p>

<ul>
<li><p><a aria-label="Fork sne3ks/Exode on GitHub" data-count-aria-label="# forks on GitHub" data-count-api="/repos/sne3ks/Exode#forks_count" data-count-href="/sne3ks/Exode/network" data-icon="octicon-repo-forked" href="https://github.com/sne3ks/Exode/fork" class="github-button">Fork</a> <strong>Exode</strong> <em>(python core)</em></p></li>
<li><p><a aria-label="Fork sne3ks/ExodeArduinoCore on GitHub" data-count-aria-label="# forks on GitHub" data-count-api="/repos/sne3ks/ExodeArduinoCore#forks_count" data-count-href="/sne3ks/ExodeArduinoCore/network" data-icon="octicon-repo-forked" href="https://github.com/sne3ks/ExodeArduinoCore/fork" class="github-button">Fork</a> <strong>ExodeArduinoCore</strong></p></li>
<li><p><a aria-label="Fork sne3ks/ExodeDoc on GitHub" data-count-aria-label="# forks on GitHub" data-count-api="/repos/sne3ks/ExodeDoc#forks_count" data-count-href="/sne3ks/ExodeDoc/network" data-icon="octicon-repo-forked" href="https://github.com/sne3ks/ExodeDoc/fork" class="github-button">Fork</a> <strong>ExodeDoc</strong> <em>(this documentation)</em></p></li>
</ul>

<p><em>Also, I&rsquo;m not an English native speaker, do not hesitate to rectify my mistakes ;) !</em></p>

<script async defer id="github-bjs" src="https://buttons.github.io/buttons.js"></script>

          
      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="python">Python</a>
                <a href="#" data-language-name="c++">Arduino</a>
          </div>
      </div>
    </div>
  </body>
</html>
